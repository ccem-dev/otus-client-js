!function(){"use strict";angular.module("otus.client",["ngResource"])}(),function(){"use strict";function UrlParser(){function parser(url){var parserElement=document.createElement("a");return parserElement.href=url,parserElement}this.parser=parser}angular.module("otus.client").service("UrlParser",UrlParser)}(),function(){"use strict";function ActivityResourceFactory($resource,OtusRestResourceContext,HeaderBuilderFactory){function create(){var restPrefix=OtusRestResourceContext.getRestPrefix(),token=OtusRestResourceContext.getSecurityToken(),headers=HeaderBuilderFactory.create(token);return $resource({},{},{create:{method:"POST",url:restPrefix+SUFFIX,headers:headers.json,params:{id:"@id",rn:"@rn"}},update:{method:"PUT",url:restPrefix+SUFFIX+"/:id",headers:headers.json,data:{activity:"@activity"},params:{id:"@id",rn:"@rn"}},listAll:{method:"GET",url:restPrefix+SUFFIX,headers:headers.json,params:{rn:"@rn"}},getById:{method:"GET",url:restPrefix+SUFFIX+"/:id",headers:headers.json,params:{id:"@id",rn:"@rn"}},deleteById:{method:"PUT",url:restPrefix+SUFFIX+"/:id",headers:headers.json,data:{activity:"@activity"},params:{id:"@id",rn:"@rn"}}})}var SUFFIX="/participants/:rn/activities",self=this;return self.create=create,self}angular.module("otus.client").factory("otus.client.ActivityResourceFactory",ActivityResourceFactory),ActivityResourceFactory.$inject=["$resource","OtusRestResourceContext","otus.client.HeaderBuilderFactory"]}(),function(){"use strict";function factory(){function create(token){return new Headers(token)}var self=this;return self.create=create,self}function Headers(token){function setContentType(contentType){self.json["Content-type"]=contentType}var self=this;self.setContentType=setContentType,self.json={Authorization:"Bearer "+token}}angular.module("otus.client").factory("otus.client.HeaderBuilderFactory",factory)}(),function(){"use strict";function OtusRestResourceContext($window,UrlParser){function init(){HOSTNAME="http://"+$window.location.hostname+":8080",CONTEXT="/otus-rest",VERSION="/v01"}function hasToken(){return!!$window.sessionStorage[TOKEN_USER_NAME]}function reset(){HOSTNAME=""}function removeSecurityToken(){delete $window.sessionStorage[TOKEN_USER_NAME]}function setUrl(url){var parser=UrlParser.parser(url);HOSTNAME=parser.origin}function setHostname(hostname){HOSTNAME=hostname}function setContext(context){CONTEXT="/"+context}function setVersion(version){VERSION="/"+version}function getRestPrefix(){return HOSTNAME+CONTEXT+VERSION}function setSecurityToken(securityToken){$window.sessionStorage[TOKEN_USER_NAME]=securityToken}function getSecurityToken(){return $window.sessionStorage[TOKEN_USER_NAME]}var HOSTNAME,CONTEXT,VERSION,self=this,TOKEN_USER_NAME="outk";self.setUrl=setUrl,self.setHostname=setHostname,self.setContext=setContext,self.setVersion=setVersion,self.setSecurityToken=setSecurityToken,self.getRestPrefix=getRestPrefix,self.getSecurityToken=getSecurityToken,self.removeSecurityToken=removeSecurityToken,self.init=init,self.reset=reset,self.hasToken=hasToken,self.init()}angular.module("otus.client").service("OtusRestResourceContext",OtusRestResourceContext),OtusRestResourceContext.$inject=["$window","UrlParser"]}(),function(){"use strict";function OtusRestResourceService(OtusInstallerResourceFactory,OtusAuthenticatorResourceFactory,OtusFieldCenterResourceFactory,OtusRestResourceContext,UserResourceFactory,OtusProjectConfigurationResourceFactory,SurveyResourceFactory,ActivityResourceFactory,ActivityConfigurationResourceFactory,DataExtractionResourceFactory,ParticipantResourceFactory,LaboratoryParticipantResourceFactory,LaboratoryConfigurationResourceFactory,DatasourceResourceFactory,UploadResourceFactory,SampleTransport){function isLogged(){return OtusRestResourceContext.hasToken()}function resetConnectionData(){OtusRestResourceContext.reset()}function initDefaultConnectionData(){OtusRestResourceContext.init()}function removeSecurityToken(){OtusRestResourceContext.removeSecurityToken()}function setUrl(url){OtusRestResourceContext.setUrl(url)}function setSecurityToken(token){OtusRestResourceContext.setSecurityToken(token)}function getOtusInstallerResource(){return OtusInstallerResourceFactory.create()}function getOtusAuthenticatorResource(){return OtusAuthenticatorResourceFactory.create()}function getOtusFieldCenterResource(){return OtusFieldCenterResourceFactory.create()}function getUserResource(){return UserResourceFactory.create()}function getProjectConfigurationResource(){return OtusProjectConfigurationResourceFactory.create()}function getSurveyResource(){return SurveyResourceFactory.create()}function getActivityResource(){return ActivityResourceFactory.create()}function getActivityConfigurationResource(){return ActivityConfigurationResourceFactory.create()}function getExtractionResource(){return DataExtractionResourceFactory.create()}function getParticipantResource(){return ParticipantResourceFactory.create()}function getLaboratoryParticipantResource(){return LaboratoryParticipantResourceFactory.create()}function getLaboratoryConfigurationResource(){return LaboratoryConfigurationResourceFactory.create()}function getDatasourceResourceFactory(){return DatasourceResourceFactory.create()}function getFileUploadResourceFactory(){return UploadResourceFactory.create()}function getSampleTransport(){return SampleTransport.create()}var self=this;self.resetConnectionData=resetConnectionData,self.initDefaultConnectionData=initDefaultConnectionData,self.removeSecurityToken=removeSecurityToken,self.setUrl=setUrl,self.setSecurityToken=setSecurityToken,self.getOtusInstallerResource=getOtusInstallerResource,self.getOtusAuthenticatorResource=getOtusAuthenticatorResource,self.getOtusFieldCenterResource=getOtusFieldCenterResource,self.getUserResource=getUserResource,self.getProjectConfigurationResource=getProjectConfigurationResource,self.getSurveyResource=getSurveyResource,self.getActivityResource=getActivityResource,self.getActivityConfigurationResource=getActivityConfigurationResource,self.getExtractionResource=getExtractionResource,self.getParticipantResource=getParticipantResource,self.getLaboratoryParticipantResource=getLaboratoryParticipantResource,self.getLaboratoryConfigurationResource=getLaboratoryConfigurationResource,self.getDatasourceResourceFactory=getDatasourceResourceFactory,self.getFileUploadResourceFactory=getFileUploadResourceFactory,self.getSampleTransport=getSampleTransport,self.isLogged=isLogged}angular.module("otus.client").service("OtusRestResourceService",OtusRestResourceService),OtusRestResourceService.$inject=["OtusInstallerResourceFactory","OtusAuthenticatorResourceFactory","OtusFieldCenterResourceFactory","OtusRestResourceContext","otus.client.UserResourceFactory","otusjs.otus.client.OtusProjectConfigurationResourceFactory","otus.client.SurveyResourceFactory","otus.client.ActivityResourceFactory","otus.client.ActivityConfigurationResourceFactory","otus.client.DataExtractionResourceFactory","otus.client.ParticipantResourceFactory","otus.client.LaboratoryParticipantResourceFactory","otus.client.LaboratoryConfigurationResourceFactory","otus.client.DatasourceResourceFactory","otus.client.UploadResourceFactory","otus.client.SampleTransport"]}(),function(){"use strict";function DataExtractionResourceFactory($resource,OtusRestResourceContext,HeaderBuilderFactory){function create(){var restPrefix=OtusRestResourceContext.getRestPrefix(),token=OtusRestResourceContext.getSecurityToken(),headers=HeaderBuilderFactory.create(token);return $resource({},{},{extractionToken:{method:"GET",url:restPrefix+SUFFIX+"/extraction-token",headers:headers.json},listExtractionIps:{method:"GET",url:restPrefix+SUFFIX+"/list-ips",headers:headers.json},updateExtractionIps:{method:"POST",url:restPrefix+SUFFIX+"/enable-ips",headers:headers.json},enableExtraction:{method:"POST",url:restPrefix+SUFFIX+"/enable",headers:headers.json},disableExtraction:{method:"POST",url:restPrefix+SUFFIX+"/disable",headers:headers.json}})}var SUFFIX="/data-extraction",self=this;return self.create=create,self}angular.module("otus.client").factory("otus.client.DataExtractionResourceFactory",DataExtractionResourceFactory),DataExtractionResourceFactory.$inject=["$resource","OtusRestResourceContext","otus.client.HeaderBuilderFactory"]}(),function(){"use strict";function Factory($resource,OtusRestResourceContext,HeaderBuilderFactory){function create(){var restPrefix=OtusRestResourceContext.getRestPrefix(),token=OtusRestResourceContext.getSecurityToken(),headers=HeaderBuilderFactory.create(token),headersPublishTemplate=HeaderBuilderFactory.create(token);headersPublishTemplate.setContentType("application/json; charset=utf-8");var config={getSurveys:{method:"GET",url:restPrefix+SUFFIX+"/surveys",headers:headers.json},updateSurveyTemplateType:{method:"PUT",url:restPrefix+SUFFIX+"/surveys/:acronym/type",data:{newSurveyFormType:"@newSurveyFormType"},headers:headers.json,params:{acronym:"@acronym"}},publishTemplate:{method:"POST",url:restPrefix+SUFFIX+"/publish/template",headers:headersPublishTemplate.json},deleteSurveyTemplate:{method:"DELETE",url:restPrefix+SUFFIX+"/surveys/:acronym",headers:headers.json},getVisualIdentity:{method:"GET",url:restPrefix+SUFFIX+"/visual-identity",headers:headers.json},updateVisualIdentity:{method:"POST",url:restPrefix+SUFFIX+"/visual-identity",headers:headers.json}};return $resource({},{},config)}var SUFFIX="/configuration",self=this;return self.create=create,self}angular.module("otus.client").factory("otusjs.otus.client.OtusProjectConfigurationResourceFactory",Factory),Factory.$inject=["$resource","OtusRestResourceContext","otus.client.HeaderBuilderFactory"]}(),function(){"use strict";function OtusAuthenticatorResourceFactory($resource,OtusRestResourceContext,HeaderBuilderFactory){function create(){var restPrefix=OtusRestResourceContext.getRestPrefix(),token=OtusRestResourceContext.getSecurityToken(),headers=HeaderBuilderFactory.create(token);return $resource({},{},{authenticate:{method:"POST",url:restPrefix+SUFFIX,headers:headers.json},invalidate:{method:"POST",url:restPrefix+SUFFIX+"/invalidate",headers:headers.json},authenticateProject:{method:"POST",url:restPrefix+SUFFIX+"/project",headers:headers.json}})}var SUFFIX="/authentication",self=this;return self.create=create,self}angular.module("otus.client").factory("OtusAuthenticatorResourceFactory",OtusAuthenticatorResourceFactory),OtusAuthenticatorResourceFactory.$inject=["$resource","OtusRestResourceContext","otus.client.HeaderBuilderFactory"]}(),function(){"use strict";function DatasourceResourceFactory($resource,OtusRestResourceContext,HeaderBuilderFactory){function create(){var restPrefix=OtusRestResourceContext.getRestPrefix(),token=OtusRestResourceContext.getSecurityToken(),headers=HeaderBuilderFactory.create(token);return $resource({},{},{list:{method:"GET",url:restPrefix+SUFFIX,headers:headers.json},getByID:{method:"GET",url:restPrefix+SUFFIX+"/:idx",headers:headers.json,params:{idx:"@idx"}}})}var SUFFIX="/configuration/datasources",self=this;return self.create=create,self}angular.module("otus.client").factory("otus.client.DatasourceResourceFactory",DatasourceResourceFactory),DatasourceResourceFactory.$inject=["$resource","OtusRestResourceContext","otus.client.HeaderBuilderFactory"]}(),function(){"use strict";function OtusFieldCenterResourceFactory($resource,OtusRestResourceContext,HeaderBuilderFactory){function create(){var restPrefix=OtusRestResourceContext.getRestPrefix(),token=OtusRestResourceContext.getSecurityToken(),headers=HeaderBuilderFactory.create(token);return $resource({},{},{getAll:{method:"GET",url:restPrefix+SUFFIX+"/list",headers:headers.json},create:{method:"POST",url:restPrefix+SUFFIX,headers:headers.json},update:{method:"POST",url:restPrefix+SUFFIX+"/update",headers:headers.json}})}var SUFFIX="/center",self=this;return self.create=create,self}angular.module("otus.client").factory("OtusFieldCenterResourceFactory",OtusFieldCenterResourceFactory),OtusFieldCenterResourceFactory.$inject=["$resource","OtusRestResourceContext","otus.client.HeaderBuilderFactory"]}(),function(){"use strict";function OtusInstallerResourceFactory($resource,OtusRestResourceContext,HeaderBuilderFactory){function create(){var restPrefix=OtusRestResourceContext.getRestPrefix(),token=OtusRestResourceContext.getSecurityToken(),headers=HeaderBuilderFactory.create(token);return $resource({},{},{ready:{method:"GET",url:restPrefix+SUFFIX+"/ready",headers:headers.json},config:{method:"POST",url:restPrefix+SUFFIX,headers:headers.json},validationEmail:{method:"POST",url:restPrefix+SUFFIX+"/validation/email",headers:headers.json}})}var SUFFIX="/installer",self=this;return self.create=create,self}angular.module("otus.client").factory("OtusInstallerResourceFactory",OtusInstallerResourceFactory),OtusInstallerResourceFactory.$inject=["$resource","OtusRestResourceContext","otus.client.HeaderBuilderFactory"]}(),function(){"use strict";function ParticipantResourceFactory($resource,OtusRestResourceContext,HeaderBuilderFactory){function create(){var restPrefix=OtusRestResourceContext.getRestPrefix(),token=OtusRestResourceContext.getSecurityToken(),headers=HeaderBuilderFactory.create(token);return $resource({},{},{list:{method:"GET",url:restPrefix+SUFFIX+"/participants",isArray:!0,headers:headers.json},listIndexers:{method:"GET",url:restPrefix+SUFFIX+"/list-indexers",headers:headers.json}})}var SUFFIX="",self=this;return self.create=create,self}angular.module("otus.client").factory("otus.client.ParticipantResourceFactory",ParticipantResourceFactory),ParticipantResourceFactory.$inject=["$resource","OtusRestResourceContext","otus.client.HeaderBuilderFactory"]}(),function(){"use strict";function UploadResourceFactory($http,OtusRestResourceContext,HeaderBuilderFactory){function create(){return new HttpFileUpload($http,OtusRestResourceContext,HeaderBuilderFactory)}var self=this;return self.create=create,self}function HttpFileUpload($http,OtusRestResourceContext,HeaderBuilderFactory){function post(formData,canceler){return _headers.setContentType(void 0),$http({method:"POST",url:_restPrefix+SUFFIX,data:formData,headers:_headers.json,timeout:canceler.promise,transformRequest:angular.identity})}function getByOID(oid){return $http({method:"POST",url:_restPrefix+SUFFIX,data:oid,responseType:"arraybuffer",headers:_headers.json})}function deleteByOID(oid){return $http({method:"DELETE",url:_restPrefix+SUFFIX+"/"+oid,headers:_headers.json})}var _restPrefix,_token,_headers,self=this,SUFFIX="/upload";return self.post=post,self.getByOID=getByOID,self.deleteByOID=deleteByOID,function(){_restPrefix=OtusRestResourceContext.getRestPrefix(),_token=OtusRestResourceContext.getSecurityToken(),_headers=HeaderBuilderFactory.create(_token)}(),self}angular.module("otus.client").factory("otus.client.UploadResourceFactory",UploadResourceFactory),UploadResourceFactory.$inject=["$http","OtusRestResourceContext","otus.client.HeaderBuilderFactory"]}(),function(){"use strict";function SurveyResourceFactory($resource,OtusRestResourceContext,HeaderBuilderFactory){function create(){var restPrefix=OtusRestResourceContext.getRestPrefix(),token=OtusRestResourceContext.getSecurityToken(),headers=HeaderBuilderFactory.create(token);return $resource({},{},{list:{method:"GET",url:restPrefix+SUFFIX+"/list",headers:headers.json}})}var SUFFIX="/survey",self=this;return self.create=create,self}angular.module("otus.client").factory("otus.client.SurveyResourceFactory",SurveyResourceFactory),SurveyResourceFactory.$inject=["$resource","OtusRestResourceContext","otus.client.HeaderBuilderFactory"]}(),function(){"use strict";function UserResourceFactory($resource,OtusRestResourceContext,HeaderBuilderFactory){function create(){var restPrefix=OtusRestResourceContext.getRestPrefix(),token=OtusRestResourceContext.getSecurityToken(),headers=HeaderBuilderFactory.create(token);return $resource({},{},{create:{method:"POST",url:restPrefix+SUFFIX+"/signup",headers:headers.json},logged:{method:"GET",url:restPrefix+SUFFIX,headers:headers.json},list:{method:"GET",url:restPrefix+SUFFIX+"/list",headers:headers.json},enable:{method:"POST",url:restPrefix+SUFFIX+"/enable",headers:headers.json},disable:{method:"POST",url:restPrefix+SUFFIX+"/disable",headers:headers.json},updateFieldCenter:{method:"POST",url:restPrefix+SUFFIX+"/field-center",headers:headers.json}})}var SUFFIX="/user",self=this;return self.create=create,self}angular.module("otus.client").factory("otus.client.UserResourceFactory",UserResourceFactory),UserResourceFactory.$inject=["$resource","OtusRestResourceContext","otus.client.HeaderBuilderFactory"]}(),function(){"use strict";function ActivityConfigurationResourceFactory($resource,OtusRestResourceContext,HeaderBuilderFactory){function create(){var restPrefix=OtusRestResourceContext.getRestPrefix(),token=OtusRestResourceContext.getSecurityToken(),headers=HeaderBuilderFactory.create(token);return $resource({},{},{listAll:{method:"GET",url:restPrefix+SUFFIX+"/categories",headers:headers.json},getById:{method:"GET",url:restPrefix+SUFFIX+"/categories/:id",headers:headers.json,params:{id:"@id"}},create:{method:"POST",url:restPrefix+SUFFIX+"/categories",headers:headers.json,data:{activityCategory:"@activityCategory"}},delete:{method:"DELETE",url:restPrefix+SUFFIX+"/categories/:id",headers:headers.json,params:{id:"@id"}},update:{method:"PUT",url:restPrefix+SUFFIX+"/categories",headers:headers.json,data:{activityCategory:"@activityCategory"}},setDefault:{method:"PUT",url:restPrefix+SUFFIX+"/categories/default/:id",headers:headers.json,params:{id:"@id"}}})}var SUFFIX="/activities/configuration",self=this;return self.create=create,self}angular.module("otus.client").factory("otus.client.ActivityConfigurationResourceFactory",ActivityConfigurationResourceFactory),ActivityConfigurationResourceFactory.$inject=["$resource","OtusRestResourceContext","otus.client.HeaderBuilderFactory"]}(),function(){"use strict";function LaboratoryConfigurationResourceFactory($resource,OtusRestResourceContext,HeaderBuilderFactory){function create(){var restPrefix=OtusRestResourceContext.getRestPrefix(),token=OtusRestResourceContext.getSecurityToken(),headers=HeaderBuilderFactory.create(token);return $resource({},{},{getDescriptors:{method:"GET",url:restPrefix+SUFFIX+"/descriptor",headers:headers.json},getAliquotConfiguration:{method:"GET",url:restPrefix+SUFFIX+"/aliquot-configuration",headers:headers.json},getAliquotDescriptors:{method:"GET",url:restPrefix+SUFFIX+"/aliquot-descriptors",headers:headers.json}})}var SUFFIX="/laboratory-configuration",self=this;return self.create=create,self}angular.module("otus.client").factory("otus.client.LaboratoryConfigurationResourceFactory",LaboratoryConfigurationResourceFactory),LaboratoryConfigurationResourceFactory.$inject=["$resource","OtusRestResourceContext","otus.client.HeaderBuilderFactory"]}(),function(){"use strict";function LaboratoryParticipantResourceFactory($resource,OtusRestResourceContext,HeaderBuilderFactory){function create(){var restPrefix=OtusRestResourceContext.getRestPrefix(),token=OtusRestResourceContext.getSecurityToken(),headers=HeaderBuilderFactory.create(token);return $resource({},{},{initialize:{method:"POST",url:restPrefix+SUFFIX+"/initialize/:rn",headers:headers.json,params:{rn:"@rn"}},getLaboratory:{method:"GET",url:restPrefix+SUFFIX+"/:rn",headers:headers.json,params:{rn:"@rn"}},update:{method:"PUT",url:restPrefix+SUFFIX+"/:rn",headers:headers.json,data:{laboratory:"@laboratory"},params:{rn:"@rn"}},updateAliquots:{method:"PUT",url:restPrefix+SUFFIX+"/:rn/tubes/aliquots",headers:headers.json,data:{updateAliquotsDTO:"@updateAliquotsDTO"},params:{rn:"@rn"}}})}var SUFFIX="/laboratory-participant",self=this;return self.create=create,self}angular.module("otus.client").factory("otus.client.LaboratoryParticipantResourceFactory",LaboratoryParticipantResourceFactory),LaboratoryParticipantResourceFactory.$inject=["$resource","OtusRestResourceContext","otus.client.HeaderBuilderFactory"]}(),function(){"use strict";function SampleTransport($resource,OtusRestResourceContext,HeaderBuilderFactory){function create(){var restPrefix=OtusRestResourceContext.getRestPrefix(),token=OtusRestResourceContext.getSecurityToken(),headers=HeaderBuilderFactory.create(token);return $resource({},{},{getAliquots:{method:"GET",url:restPrefix+SUFFIX+"/aliquots",headers:headers.json},getAliquotsByCenter:{method:"GET",url:restPrefix+SUFFIX+"/aliquots/:center",headers:headers.json,params:{center:"@center"}},getLots:{method:"GET",url:restPrefix+SUFFIX+"/lots",headers:headers.json},createLot:{method:"POST",url:restPrefix+SUFFIX+"/lot",headers:headers.json,data:{sampleLot:"@sampleLot"}},updateLot:{method:"PUT",url:restPrefix+SUFFIX+"/lot",headers:headers.json,data:{sampleLot:"@sampleLot"}},deleteLot:{method:"DELETE",url:restPrefix+SUFFIX+"/lot/:id",headers:headers.json,params:{id:"@id"}}})}var SUFFIX="/laboratory-project/transportation",self=this;return self.create=create,self}angular.module("otus.client").factory("otus.client.SampleTransport",SampleTransport),SampleTransport.$inject=["$resource","OtusRestResourceContext","otus.client.HeaderBuilderFactory"]}();